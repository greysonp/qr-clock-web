<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>QR Clock</title>

    <script src="bower_components/qr-js/qr.min.js" type="text/javascript"></script>

    <style media="screen">

      body, html {
        height: 100%;
        text-align: center;
      }
      #container {
        margin: auto;
        width: 700px;
        height: 100%;
        text-align: center;
        font-size: 50px;
        font-weight: bold;
      }

      #container canvas {
        display: inline-block;
        padding: 20px;
      }

      #container tr, #container td {
        vertical-align: middle;
        text-align: center;
      }

    </style>
  </head>
  <body>
    <table id="container">
      <tr>
        <td><canvas width="150" height="150" id="h1"></canvas></td>
        <td><canvas width="150" height="150" id="h2"></canvas></td>
        <td>:</td>
        <td><canvas width="150" height="150" id="m1"></canvas></td>
        <td><canvas width="150" height="150" id="m2"></canvas></td>
      </tr>
    </div>

    <script type="text/javascript">
      init();

      function init() {
        setInterval(updateClock, 1000);
      }

      function updateClock() {
        var date = new Date();
        var hours = (date.getHours() + 24) % 12 || 12;
        var minutes = date.getMinutes();

        var h1 = hours > 9 ? 1 : null;
        var h2 = hours > 9 ? hours - 10 : hours;
        var m1 = minutes > 9 ? Math.floor(minutes / 10) : null;
        var m2 = minutes > 9 ? minutes % 10 : minutes;

        if (h1 != null) {
          showQr('h1', h1);
        }
        showQr('h2', h2);
        if (m1 != null) {
          showQr('m1', m1);
        }
        showQr('m2', m2);
      }

      function showQr(id, value) {
        qr.canvas({
          canvas: document.getElementById(id),
          value: value + '',
          size: 7
        });
      }
    </script>
  </body>
</html>
